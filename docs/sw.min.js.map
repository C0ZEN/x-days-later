{"version":3,"sources":["release/sw.js"],"names":["data","now","Date","successHttpStatus","cacheName","filesToCache","i","length","self","addEventListener","console","log","$event","waitUntil","caches","open","then","$cache","addAll","skipWaiting","catch","error","respondWith","onRespondWithMatch","match","request","$response","fetchRequest","clone","fetch","onFetchSuccess","$response2","status","type","responseToCache","cache","put"],"mappings":"aASA,GAAMA,MAAO,CACZC,IAAmBC,KAAKD,GAAL,EADP,CAEZE,kBAAmB,GAFP,CAGZC,UAAmB,uBAHP,CAIZC,aAAmB,CAClB,GADkB,CAElB,gBAFkB,CAGlB,0BAHkB,CAIlB,qCAJkB,CAKlB,sCALkB,CAMlB,qCANkB,CAOlB,kCAPkB,CAQlB,2CARkB,CASlB,sCATkB,CAJP,CAAb,CAiBA,IAAK,GAAIC,GAAI,CAAR,CAAWC,OAASP,KAAKK,YAAL,CAAkBE,MAA3C,CAAmDD,EAAIC,MAAvD,CAA+DD,GAA/D,CAAoE,CACnEN,KAAKK,YAAL,CAAkBC,CAAlB,GAAwB,cAAgBN,KAAKC,GAC7C,CAEDO,KAAKC,gBAAL,CAAsB,SAAtB,CAAiC,gBAAU,CAC1CC,QAAQC,GAAR,CAAY,aAAZ,EACAC,OAAOC,SAAP,CAAiB,UAAM,CACtBC,OACEC,IADF,CACOf,KAAKI,SADZ,EAEEY,IAFF,CAEO,gBAAU,CACfN,QAAQC,GAAR,CAAY,kBAAZ,EACA,MAAOM,QACLC,MADK,CACElB,KAAKK,YADP,EAELW,IAFK,CAEA,UAAM,CACXN,QAAQC,GAAR,CAAY,sBAAZ,EACAH,KAAKW,WAAL,EACA,CALK,CAMP,CAVF,EAWEC,KAXF,CAWQ,UAAM,CACZV,QAAQW,KAAR,CAAc,yBAAd,CACA,CAbF,CAcA,CAfD,CAgBA,CAlBD,EAoBAb,KAAKC,gBAAL,CAAsB,OAAtB,CAA+B,gBAAU,CACxCC,QAAQC,GAAR,CAAY,WAAZ,EACAC,OAAOU,WAAP,CAAmB,UAAM,CACxB,MAAOC,oBAAmBX,MAAnB,CACP,CAFD,CAGA,CALD,EAOA,QAASW,mBAAT,CAA4BX,MAA5B,CAAoC,CACnCE,OACEU,KADF,CACQZ,OAAOa,OADf,EAEET,IAFF,CAEO,mBAAa,CAClB,GAAIU,SAAJ,CAAe,CACd,MAAOA,UACP,CACD,GAAMC,cAAef,OAAOa,OAAP,CAAeG,KAAf,EAArB,CACA,MAAOC,OAAMF,YAAN,EAAoBX,IAApB,CAAyB,oBAAc,CAC7C,MAAOc,gBAAelB,MAAf,CAAuBmB,UAAvB,CACP,CAFM,CAGP,CAVF,CAWA,CAED,QAASD,eAAT,CAAwBlB,MAAxB,CAAgCc,SAAhC,CAA2C,CAC1C,GAAI,CAACA,SAAD,EAAcA,UAAUM,MAAV,GAAqBhC,KAAKG,iBAAxC,EAA6D,UAAYuB,UAAUO,IAAvF,CAA6F,CAC5F,MAAOP,UACP,CACD,GAAMQ,iBAAkBR,UAAUE,KAAV,EAAxB,CACAd,OACEC,IADF,CACOf,KAAKI,SADZ,EAEEY,IAFF,CAEO,eAAS,CACdmB,MAAMC,GAAN,CAAUxB,OAAOa,OAAjB,CAA0BS,eAA1B,CACA,CAJF,EAKA,MAAOR,UACP","file":"sw.min.js","sourcesContent":["/**\r\n * Generated header by C0ZEN for x-days-later project\r\n * Generated file sw on WebStorm\r\n *\r\n * Created by: Geoffrey \"C0ZEN\" Testelin\r\n * Date: 23/01/2018\r\n * Time: 23:28\r\n * Version: 1.0.0\r\n */\r\nconst data = {\r\n\tnow              : Date.now(),\r\n\tsuccessHttpStatus: 200,\r\n\tcacheName        : 'x-days-later-cache-v1',\r\n\tfilesToCache     : [\r\n\t\t'/',\r\n\t\t'/x-days-later/',\r\n\t\t'/x-days-later/index.html',\r\n\t\t'/x-days-later/assets/css/loader.css',\r\n\t\t'/x-days-later/assets/css/vendors.css',\r\n\t\t'/x-days-later/assets/css/styles.css',\r\n\t\t'/x-days-later/release/vendors.js',\r\n\t\t'/x-days-later/release/x-days-later.min.js',\r\n\t\t'/x-days-later/release/sw.init.min.js'\r\n\t]\r\n};\r\n\r\nfor (let i = 2, length = data.filesToCache.length; i < length; i++) {\r\n\tdata.filesToCache[i] += '?timestamp=' + data.now;\r\n}\r\n\r\nself.addEventListener('install', $event => {\r\n\tconsole.log('SW: install');\r\n\t$event.waitUntil(() => {\r\n\t\tcaches\r\n\t\t\t.open(data.cacheName)\r\n\t\t\t.then($cache => {\r\n\t\t\t\tconsole.log('SW: cache opened');\r\n\t\t\t\treturn $cache\r\n\t\t\t\t\t.addAll(data.filesToCache)\r\n\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\tconsole.log('SW: all stuff cached');\r\n\t\t\t\t\t\tself.skipWaiting();\r\n\t\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch(() => {\r\n\t\t\t\tconsole.error('SW: cache install error');\r\n\t\t\t});\r\n\t});\r\n});\r\n\r\nself.addEventListener('fetch', $event => {\r\n\tconsole.log('SW: fetch');\r\n\t$event.respondWith(() => {\r\n\t\treturn onRespondWithMatch($event);\r\n\t});\r\n});\r\n\r\nfunction onRespondWithMatch($event) {\r\n\tcaches\r\n\t\t.match($event.request)\r\n\t\t.then($response => {\r\n\t\t\tif ($response) {\r\n\t\t\t\treturn $response;\r\n\t\t\t}\r\n\t\t\tconst fetchRequest = $event.request.clone();\r\n\t\t\treturn fetch(fetchRequest).then($response2 => {\r\n\t\t\t\treturn onFetchSuccess($event, $response2);\r\n\t\t\t});\r\n\t\t});\r\n}\r\n\r\nfunction onFetchSuccess($event, $response) {\r\n\tif (!$response || $response.status !== data.successHttpStatus || 'basic' !== $response.type) {\r\n\t\treturn $response;\r\n\t}\r\n\tconst responseToCache = $response.clone();\r\n\tcaches\r\n\t\t.open(data.cacheName)\r\n\t\t.then(cache => {\r\n\t\t\tcache.put($event.request, responseToCache);\r\n\t\t});\r\n\treturn $response;\r\n}"]}