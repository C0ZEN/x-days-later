{"version":3,"sources":["x-days-later.js"],"names":["angular","module","window","config","$inject","AnalyticsProvider","appConstant","setAccount","analytics","account","$compileProvider","debugInfoEnabled","localStorageServiceProvider","setPrefix","setDefaultToCookie","setNotify","logExProvider","enableLogging","logs","enabled","overrideLogPrefix","$className","$injector","injector","$filter","get","separator","format","now","Date","toString","isString","constant","lang","current","moment","readableFormat","maintenance","active","_","controller","mainController","$scope","logService","dateService","$window","$timeout","copyService","calculatedDateHistoryService","maintenanceService","localStorageService","gaTrackEventService","vm","data","days","methods","execHideDatePicker","today","initialDate","showDatepicker","isHoverDatepicker","history","xDays","isInMaintenance","defineDate","onDatepickerClick","toggleDatepicker","onDatepickerEnter","onDatepickerFocus","onWindowClick","hideDatepicker","isDatepickerOpen","onCopySuccess","onInitialDateChange","onDaysInputChange","init","calculatedDate","$watch","addEventListener","subscribe","$data","newHistory","fnCalled","addDays","newEvent","category","action","label","value","$event","stopPropagation","$force","show","Methods","safeApply","set","directive","onEnter","keyboardService","enter","link","restrict","scope","element","attrs","bindKeyDown","run","console","info","locale","$animate","loaderContainer","document","find","leave","addClass","factory","$rootScope","service","newException","notify","reset","setOriginal","setCalculated","addFerie","addWeekend","addSunday","$callback","handler","$on","exception","exceptionTriggered","exceptionList","$date","original","date","calculated","push","$emit","fnCalledService","container","setClass","then","removeClass","sunday","saturday","one","two","ms","add","isSunday","isSaturday","isDay","isWeekend","readable","toTimestamp","toISOString","$days","weekend","ferie","i","type","isFerie","getFerie","$quantity","$type","$day","day","unix","Analytics","event","has","nonInteraction","isBoolean","trackEvent","analyzeKey","$element","$attrs","$key","$name","bind","isArray","forEach","key","keyCode","preventDefault","$apply","$eval","$log","log","$target","$text","$functionName","$service","copy","fn","phase","$root","$$phase"],"mappings":"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","file":"x-days-later.min.js","sourcesContent":["'use strict';\n\n/* start:concat-scripts */\n(function (angular) {\n\t'use strict';\n\n\tangular.module('xDaysLater', ['720kb.datepicker', 'ngclipboard', 'ngAnimate', 'log.ex.uo', 'LocalStorageModule', 'angular-google-analytics']);\n})(window.angular);\n\n(function (angular) {\n\t'use strict';\n\n\tangular.module('xDaysLater').config(config);\n\n\tconfig.$inject = ['AnalyticsProvider', 'appConstant'];\n\n\tfunction config(AnalyticsProvider, appConstant) {\n\t\tAnalyticsProvider.setAccount(appConstant.analytics.account);\n\t}\n})(window.angular);\n(function (angular) {\n\t'use strict';\n\n\tangular.module('xDaysLater').config(config);\n\n\tconfig.$inject = ['$compileProvider', 'appConstant'];\n\n\tfunction config($compileProvider, appConstant) {\n\t\t$compileProvider.debugInfoEnabled(appConstant.debugInfoEnabled);\n\t}\n})(window.angular);\n(function (angular) {\n\t'use strict';\n\n\tangular.module('xDaysLater').config(config);\n\n\tconfig.$inject = ['localStorageServiceProvider'];\n\n\tfunction config(localStorageServiceProvider) {\n\t\tlocalStorageServiceProvider.setPrefix('xdl').setDefaultToCookie(true).setNotify(false, false);\n\t}\n})(window.angular);\n(function (angular) {\n\t'use strict';\n\n\tangular.module('xDaysLater').config(config);\n\n\tconfig.$inject = ['logExProvider', 'appConstant'];\n\n\tfunction config(logExProvider, appConstant) {\n\t\tlogExProvider.enableLogging(appConstant.logs.enabled);\n\t\tlogExProvider.overrideLogPrefix(function ($className) {\n\t\t\tvar $injector = angular.injector(['ng']);\n\t\t\tvar $filter = $injector.get('$filter');\n\t\t\tvar separator = ' >>';\n\t\t\tvar format = 'hh:mm:ss';\n\t\t\tvar now = $filter('date')(new Date(), format);\n\t\t\treturn now.toString() + (!angular.isString($className) ? '' : '::' + $className) + separator;\n\t\t});\n\t}\n})(window.angular);\n\n(function (angular) {\n\t'use strict';\n\n\tangular.module('xDaysLater').constant('appConstant', {\n\t\tlogs: {\n\t\t\tenabled: false\n\t\t},\n\t\tlang: {\n\t\t\tcurrent: 'fr'\n\t\t},\n\t\tdebugInfoEnabled: false,\n\t\tmoment: {\n\t\t\treadableFormat: 'dddd DD MMMM YYYY'\n\t\t},\n\t\tmaintenance: {\n\t\t\tactive: false\n\t\t},\n\t\tanalytics: {\n\t\t\taccount: 'UA-60282719-6'\n\t\t}\n\t});\n})(window.angular);\n(function (angular) {\n\t'use strict';\n\n\tangular.module('xDaysLater').constant('moment', moment).constant('_', _);\n})(window.angular);\n\n(function (angular) {\n\t'use strict';\n\n\tangular.module('xDaysLater').controller('mainController', mainController);\n\n\tmainController.$inject = ['$scope', 'logService', 'dateService', '$window', '$timeout', 'copyService', 'calculatedDateHistoryService', 'maintenanceService', 'localStorageService', 'gaTrackEventService'];\n\n\tfunction mainController($scope, logService, dateService, $window, $timeout, copyService, calculatedDateHistoryService, maintenanceService, localStorageService, gaTrackEventService) {\n\t\tvar vm = this;\n\n\t\t// Internal data\n\t\tvar data = {\n\t\t\tdays: 21\n\t\t};\n\n\t\t// Internal methods\n\t\tvar methods = {\n\t\t\texecHideDatePicker: execHideDatePicker\n\t\t};\n\n\t\t// Public data\n\t\tvm.data = {\n\t\t\tcontroller: 'mainController',\n\t\t\ttoday: dateService.toString(),\n\t\t\tinitialDate: null,\n\t\t\tshowDatepicker: false,\n\t\t\tisHoverDatepicker: false,\n\t\t\thistory: null,\n\t\t\txDays: localStorageService.get('days') || data.days,\n\t\t\tmaintenance: maintenanceService.isInMaintenance()\n\t\t};\n\n\t\t// Public methods\n\t\tvm.methods = {\n\t\t\tdefineDate: defineDate,\n\t\t\tonDatepickerClick: onDatepickerClick,\n\t\t\ttoggleDatepicker: toggleDatepicker,\n\t\t\tonDatepickerEnter: onDatepickerEnter,\n\t\t\tonDatepickerFocus: onDatepickerFocus,\n\t\t\tonWindowClick: onWindowClick,\n\t\t\thideDatepicker: hideDatepicker,\n\t\t\tisDatepickerOpen: isDatepickerOpen,\n\t\t\tisHoverDatepicker: isHoverDatepicker,\n\t\t\tonCopySuccess: onCopySuccess,\n\t\t\tonInitialDateChange: onInitialDateChange,\n\t\t\tonDaysInputChange: onDaysInputChange\n\t\t};\n\n\t\t// Init\n\t\tlogService.init(vm.data.controller);\n\t\tvm.calculatedDate = null;\n\n\t\t// Watch initialDate changes\n\t\t$scope.$watch('initialDate', function () {\n\t\t\t$timeout(function () {\n\t\t\t\tvm.methods.defineDate();\n\t\t\t});\n\t\t});\n\n\t\t// Listen window click\n\t\t$window.addEventListener('click', vm.methods.onWindowClick);\n\n\t\t// Subscribe to calculated date history\n\t\tcalculatedDateHistoryService.subscribe($scope, function ($data) {\n\t\t\tvm.data.history = $data.newHistory;\n\t\t});\n\n\t\tfunction defineDate() {\n\t\t\tlogService.fnCalled('defineDate');\n\t\t\tvm.calculatedDate = dateService.addDays(vm.data.xDays, vm.initialDate);\n\t\t\tgaTrackEventService.newEvent({\n\t\t\t\tcategory: 'Model',\n\t\t\t\taction: 'Change',\n\t\t\t\tlabel: 'Calculated date',\n\t\t\t\tvalue: vm.calculatedDate\n\t\t\t});\n\t\t}\n\n\t\tfunction onDatepickerClick($event) {\n\t\t\tlogService.fnCalled('onDatepickerClick');\n\t\t\t$event.stopPropagation();\n\t\t\tvm.methods.toggleDatepicker();\n\t\t}\n\n\t\tfunction toggleDatepicker() {\n\t\t\tlogService.fnCalled('toggleDatepicker');\n\t\t\tvm.data.showDatepicker = !vm.data.showDatepicker;\n\t\t\tif (vm.data.showDatepicker) {\n\t\t\t\tgaTrackEventService.newEvent({\n\t\t\t\t\tcategory: 'DatePicker',\n\t\t\t\t\taction: 'Show',\n\t\t\t\t\tlabel: 'Initial date'\n\t\t\t\t});\n\t\t\t}\n\t\t\tvm.methods.defineDate();\n\t\t}\n\n\t\tfunction onDatepickerEnter() {\n\t\t\tlogService.fnCalled('onDatepickerEnter');\n\t\t\tvm.methods.toggleDatepicker();\n\t\t}\n\n\t\tfunction onDatepickerFocus($event) {\n\t\t\tlogService.fnCalled('onDatepickerFocus');\n\t\t\t$event.stopPropagation();\n\t\t\tvm.methods.toggleDatepicker();\n\t\t}\n\n\t\tfunction onWindowClick() {\n\t\t\tlogService.fnCalled('onWindowClick');\n\t\t\tvm.methods.hideDatepicker();\n\t\t}\n\n\t\tfunction hideDatepicker($force) {\n\t\t\tlogService.fnCalled('hideDatepicker');\n\t\t\tif (true === $force) {\n\t\t\t\tmethods.execHideDatePicker();\n\t\t\t} else if (vm.methods.isDatepickerOpen() && !vm.methods.isHoverDatepicker()) {\n\t\t\t\tmethods.execHideDatePicker();\n\t\t\t}\n\t\t}\n\n\t\tfunction isDatepickerOpen() {\n\t\t\treturn vm.data.showDatepicker;\n\t\t}\n\n\t\tfunction isHoverDatepicker() {\n\t\t\treturn vm.data.isHoverDatepicker;\n\t\t}\n\n\t\tfunction onCopySuccess() {\n\t\t\tlogService.fnCalled('onCopySuccess');\n\t\t\tcopyService.show();\n\t\t\tgaTrackEventService.newEvent({\n\t\t\t\tcategory: 'Button',\n\t\t\t\taction: 'Click',\n\t\t\t\tlabel: 'Copy calculated date'\n\t\t\t});\n\t\t}\n\n\t\tfunction onInitialDateChange() {\n\t\t\tlogService.fnCalled('onInitialDateChange');\n\t\t\t$timeout(function () {\n\t\t\t\tvm.methods.hideDatepicker(true);\n\t\t\t\tvm.methods.defineDate();\n\t\t\t});\n\t\t}\n\n\t\tfunction execHideDatePicker() {\n\t\t\tvm.data.showDatepicker = false;\n\t\t\tvm.methods.defineDate();\n\t\t\tMethods.safeApply($scope);\n\t\t}\n\n\t\tfunction onDaysInputChange() {\n\t\t\t$timeout(function () {\n\t\t\t\tvm.methods.defineDate();\n\t\t\t\tlocalStorageService.set('days', vm.data.xDays);\n\t\t\t});\n\t\t}\n\t}\n})(window.angular);\n\n(function (angular) {\n\t'use strict';\n\n\tangular.module('xDaysLater').directive('onEnter', onEnter);\n\n\tonEnter.$inject = ['keyboardService'];\n\n\tfunction onEnter(keyboardService) {\n\t\tvar data = {\n\t\t\tenter: 13\n\t\t};\n\n\t\treturn {\n\t\t\tlink: link,\n\t\t\trestrict: 'A'\n\t\t};\n\n\t\tfunction link(scope, element, attrs) {\n\t\t\tkeyboardService.bindKeyDown(scope, element, attrs, data.enter, 'onEnter');\n\t\t}\n\t}\n})(window.angular);\n\n(function (angular) {\n\t'use strict';\n\n\tangular.module('xDaysLater').run(config);\n\n\tfunction config() {\n\t\tconsole.info('Sitemap:', 'https://c0zen.github.io/x-days-later/sitemap.xml');\n\t\tconsole.info('Feed:', 'https://c0zen.github.io/x-days-later/feed.xml');\n\t}\n})(window.angular);\n(function (angular) {\n\t'use strict';\n\n\tangular.module('xDaysLater').run(config);\n\n\tconfig.$inject = ['moment', 'appConstant'];\n\n\tfunction config(moment, appConstant) {\n\t\tmoment.locale(appConstant.lang.current);\n\t\tconsole.info('Lang:', appConstant.lang.current);\n\t}\n})(window.angular);\n(function (angular) {\n\t'use strict';\n\n\tangular.module('xDaysLater').run(config);\n\n\tconfig.$inject = ['$animate', '$timeout'];\n\n\tfunction config($animate, $timeout) {\n\t\t$timeout(function () {\n\t\t\tvar loaderContainer = angular.element(document).find('loader-container');\n\t\t\t$animate.leave(loaderContainer, {\n\t\t\t\taddClass: 'hiding'\n\t\t\t});\n\t\t});\n\t}\n})(window.angular);\n(function (angular) {\n\t'use strict';\n\n\tangular.module('xDaysLater').run(config);\n\n\tconfig.$inject = ['maintenanceService'];\n\n\tfunction config(maintenanceService) {\n\t\tconsole.info('Maintenance status:', maintenanceService.isInMaintenance() ? 'on' : 'off');\n\t}\n})(window.angular);\n\n(function (angular) {\n\t'use strict';\n\n\tangular.module('xDaysLater').factory('calculatedDateHistoryService', calculatedDateHistoryService);\n\n\tcalculatedDateHistoryService.$inject = ['$rootScope', 'logService'];\n\n\tfunction calculatedDateHistoryService($rootScope, logService) {\n\t\tvar data = {\n\t\t\tservice: 'calculatedDateHistoryService',\n\t\t\thistory: null\n\t\t};\n\n\t\tvar methods = {\n\t\t\tnewException: newException,\n\t\t\tnotify: notify\n\t\t};\n\n\t\treturn {\n\t\t\tsubscribe: subscribe,\n\t\t\treset: reset,\n\t\t\tsetOriginal: setOriginal,\n\t\t\tsetCalculated: setCalculated,\n\t\t\taddFerie: addFerie,\n\t\t\taddWeekend: addWeekend,\n\t\t\taddSunday: addSunday\n\t\t};\n\n\t\tfunction subscribe($scope, $callback) {\n\t\t\tvar handler = $rootScope.$on(data.service + ':newHistory', function () {\n\t\t\t\t$callback({\n\t\t\t\t\tnewHistory: data.history\n\t\t\t\t});\n\t\t\t});\n\t\t\t$scope.$on('$destroy', handler);\n\t\t}\n\n\t\tfunction reset() {\n\t\t\tlogService.service(data.service, 'reset');\n\t\t\tdata.history = {\n\t\t\t\texception: false,\n\t\t\t\texceptionTriggered: 0,\n\t\t\t\texceptionList: []\n\t\t\t};\n\t\t}\n\n\t\tfunction setOriginal($date) {\n\t\t\tlogService.service(data.service, 'setOriginal');\n\t\t\tdata.history.original = {\n\t\t\t\tdate: $date\n\t\t\t};\n\t\t}\n\n\t\tfunction setCalculated($date) {\n\t\t\tlogService.service(data.service, 'setCalculated');\n\t\t\tdata.history.calculated = {\n\t\t\t\tdate: $date\n\t\t\t};\n\t\t\tmethods.notify();\n\t\t}\n\n\t\t/**\r\n   * Add a ferie exception\r\n   * @param {object} $data > Object with data (dateBefore, dateAfter, ferie)\r\n   */\n\t\tfunction addFerie($data) {\n\t\t\tlogService.service(data.service, 'addFerie');\n\t\t\tmethods.newException($data);\n\t\t}\n\n\t\tfunction newException($data) {\n\t\t\tdata.history.exception = true;\n\t\t\tdata.history.exceptionTriggered++;\n\t\t\tdata.history.exceptionList.push($data);\n\t\t}\n\n\t\tfunction notify() {\n\t\t\t$rootScope.$emit(data.service + ':newHistory');\n\t\t}\n\n\t\tfunction addWeekend($data) {\n\t\t\tlogService.service(data.service, 'weekend');\n\t\t\tmethods.newException($data);\n\t\t}\n\n\t\tfunction addSunday($data) {\n\t\t\tlogService.service(data.service, 'sunday');\n\t\t\tmethods.newException($data);\n\t\t}\n\t}\n})(window.angular);\n(function (angular) {\n\t'use strict';\n\n\tangular.module('xDaysLater').factory('copyService', copyService);\n\n\tcopyService.$inject = ['$animate', 'logService'];\n\n\tfunction copyService($animate, logService) {\n\t\tvar data = {\n\t\t\tservice: 'copyService'\n\t\t};\n\n\t\treturn {\n\t\t\tshow: show\n\t\t};\n\n\t\tfunction show() {\n\t\t\tlogService.fnCalledService(data.service, 'show');\n\t\t\tvar container = angular.element(document).find('copy-container');\n\t\t\t$animate.setClass(container, 'showing', 'hiding').then(function () {\n\t\t\t\t$animate.setClass(container, 'hiding', 'showing').then(function () {\n\t\t\t\t\t$animate.removeClass(container, 'hiding');\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n})(window.angular);\n(function (angular) {\n\t'use strict';\n\n\tangular.module('xDaysLater').factory('dateService', dateService);\n\n\tdateService.$inject = ['moment', 'logService', 'appConstant', 'calculatedDateHistoryService'];\n\n\tfunction dateService(moment, logService, appConstant, calculatedDateHistoryService) {\n\t\tvar data = {\n\t\t\tservice: 'dateService',\n\t\t\tsunday: 0,\n\t\t\tsaturday: 6,\n\t\t\tone: 1,\n\t\t\ttwo: 2,\n\t\t\tms: 1000\n\t\t};\n\n\t\tvar methods = {\n\t\t\tadd: add,\n\t\t\tisSunday: isSunday,\n\t\t\tisSaturday: isSaturday,\n\t\t\tisDay: isDay,\n\t\t\tisWeekend: isWeekend,\n\t\t\treadable: readable,\n\t\t\ttoTimestamp: toTimestamp\n\t\t};\n\n\t\treturn {\n\t\t\taddDays: addDays,\n\t\t\ttoISOString: toISOString,\n\t\t\ttoString: toString\n\t\t};\n\n\t\tfunction addDays($days, $date) {\n\t\t\tlogService.fnCalledService(data.service, 'addDays');\n\t\t\tif ($date) {\n\t\t\t\tlogService.service(data.service, 'original date is: ' + $date);\n\t\t\t\tcalculatedDateHistoryService.reset();\n\t\t\t\tvar days = $days;\n\n\t\t\t\t// Convert the date\n\t\t\t\tvar date = moment($date, appConstant.moment.readableFormat, appConstant.lang.current);\n\t\t\t\tlogService.service(data.service, 'moment original date is: ' + methods.readable(date));\n\t\t\t\tcalculatedDateHistoryService.setOriginal(methods.toTimestamp(date));\n\n\t\t\t\tvar weekend = null;\n\t\t\t\tvar ferie = null;\n\n\t\t\t\t// For each days\n\t\t\t\tfor (var i = 0; i < days; i++) {\n\n\t\t\t\t\t// Add 1 day\n\t\t\t\t\tdate = methods.add(date, data.one, 'days');\n\n\t\t\t\t\t// Check if this is the weekend\n\t\t\t\t\tif (methods.isWeekend(date)) {\n\t\t\t\t\t\tlogService.service(data.service, 'isWeekend');\n\t\t\t\t\t\tdays++;\n\n\t\t\t\t\t\t// If sunday\n\t\t\t\t\t\tif (methods.isSaturday(date)) {\n\t\t\t\t\t\t\tweekend = {\n\t\t\t\t\t\t\t\tsaturday: methods.toTimestamp(date),\n\t\t\t\t\t\t\t\ttype: 'weekend'\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tcalculatedDateHistoryService.addWeekend(weekend);\n\t\t\t\t\t\t} else if (0 === i && methods.isSunday(date)) {\n\t\t\t\t\t\t\tweekend = {\n\t\t\t\t\t\t\t\tsunday: methods.toTimestamp(date),\n\t\t\t\t\t\t\t\ttype: 'sunday'\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tcalculatedDateHistoryService.addSunday(weekend);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Check if this is an fr exception\n\t\t\t\t\telse if (date.isFerie()) {\n\t\t\t\t\t\t\tlogService.service(data.service, 'isFerie');\n\t\t\t\t\t\t\tferie = {\n\t\t\t\t\t\t\t\tferie: date.getFerie(),\n\t\t\t\t\t\t\t\ttype: 'ferie'\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tdays++;\n\t\t\t\t\t\t\tcalculatedDateHistoryService.addFerie(ferie);\n\t\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcalculatedDateHistoryService.setCalculated(methods.toTimestamp(date));\n\t\t\t\tlogService.service(data.service, 'final new date: ' + methods.readable(date));\n\t\t\t\treturn methods.toTimestamp(date);\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\n\t\tfunction add($date, $quantity, $type) {\n\t\t\treturn moment($date).add($quantity, $type);\n\t\t}\n\n\t\tfunction isSunday($date) {\n\t\t\treturn methods.isDay($date, data.sunday);\n\t\t}\n\n\t\tfunction isSaturday($date) {\n\t\t\treturn methods.isDay($date, data.saturday);\n\t\t}\n\n\t\tfunction isDay($date, $day) {\n\t\t\tvar day = moment($date).day();\n\t\t\treturn day === $day;\n\t\t}\n\n\t\tfunction isWeekend($date) {\n\t\t\treturn methods.isSunday($date) || methods.isSaturday($date);\n\t\t}\n\n\t\tfunction readable($date) {\n\t\t\treturn moment($date).format(appConstant.moment.readableFormat);\n\t\t}\n\n\t\tfunction toISOString($date) {\n\t\t\tif ($date) {\n\t\t\t\treturn moment($date).toISOString();\n\t\t\t}\n\t\t\treturn moment().toISOString();\n\t\t}\n\n\t\tfunction toString($date) {\n\t\t\tif ($date) {\n\t\t\t\treturn moment($date).toString();\n\t\t\t}\n\t\t\treturn moment().toString();\n\t\t}\n\n\t\tfunction toTimestamp($date) {\n\t\t\treturn moment($date).unix() * data.ms;\n\t\t}\n\t}\n})(window.angular);\n(function (angular) {\n\t'use strict';\n\n\tangular.module('xDaysLater').factory('gaTrackEventService', gaTrackEventService);\n\n\tgaTrackEventService.$inject = ['Analytics', '_'];\n\n\tfunction gaTrackEventService(Analytics, _) {\n\t\treturn {\n\t\t\tnewEvent: newEvent\n\t\t};\n\n\t\tfunction newEvent($event) {\n\t\t\tvar event = $event;\n\t\t\tif (_.has(event, 'category') && _.has(event, 'action') && _.has(event, 'label')) {\n\t\t\t\tevent.nonInteraction = _.isBoolean(event.nonInteraction) ? event.nonInteraction : false;\n\t\t\t\tif (event.nonInteraction) {\n\t\t\t\t\tAnalytics.trackEvent(event.category, event.action, event.label, event.value, true);\n\t\t\t\t} else if (_.has(event, 'value')) {\n\t\t\t\t\tAnalytics.trackEvent(event.category, event.action, event.label, event.value);\n\t\t\t\t} else {\n\t\t\t\t\tAnalytics.trackEvent(event.category, event.action, event.label);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n})(window.angular);\n(function (angular) {\n\t'use strict';\n\n\tangular.module('xDaysLater').factory('keyboardService', keyboardService);\n\n\tfunction keyboardService() {\n\t\tvar methods = {\n\t\t\tanalyzeKey: analyzeKey\n\t\t};\n\n\t\treturn {\n\t\t\tbindKeyDown: bindKeyDown\n\t\t};\n\n\t\tfunction bindKeyDown($scope, $element, $attrs, $key, $name) {\n\t\t\t$element.bind('keydown keypress', function ($event) {\n\t\t\t\tif (angular.isArray($key)) {\n\t\t\t\t\tangular.forEach($key, function (key) {\n\t\t\t\t\t\tmethods.analyzeKey($scope, $attrs, $name, $event, key);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tmethods.analyzeKey($scope, $attrs, $name, $event, $key);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tfunction analyzeKey($scope, $attrs, $name, $event, $key) {\n\t\t\tif ($event.keyCode === $key) {\n\t\t\t\t$event.preventDefault();\n\t\t\t\t$event.stopPropagation();\n\t\t\t\t$scope.$apply(function () {\n\t\t\t\t\t$scope.$eval($attrs[$name]);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n})(window.angular);\n(function (angular) {\n\t'use strict';\n\n\tangular.module('xDaysLater').factory('logService', logService);\n\n\tlogService.$inject = ['$log'];\n\n\tfunction logService($log) {\n\t\treturn {\n\t\t\tinit: init,\n\t\t\tlog: log,\n\t\t\tfnCalled: fnCalled,\n\t\t\tservice: service,\n\t\t\tfnCalledService: fnCalledService\n\t\t};\n\n\t\tfunction init($target) {\n\t\t\t$log.log('Init >>>', $target);\n\t\t}\n\n\t\tfunction log($text) {\n\t\t\t$log.info($text);\n\t\t}\n\n\t\tfunction fnCalled($functionName) {\n\t\t\t$log.log($functionName, 'called');\n\t\t}\n\n\t\tfunction service($service, $text) {\n\t\t\t$log.info($service, '>>>', $text);\n\t\t}\n\n\t\tfunction fnCalledService($service, $functionName) {\n\t\t\t$log.log($service, '>>>', $functionName, 'called');\n\t\t}\n\t}\n})(window.angular);\n(function (angular) {\n\t'use strict';\n\n\tangular.module('xDaysLater').factory('maintenanceService', maintenanceService);\n\n\tmaintenanceService.$inject = ['appConstant'];\n\n\tfunction maintenanceService(appConstant) {\n\t\treturn {\n\t\t\tisInMaintenance: isInMaintenance\n\t\t};\n\n\t\tfunction isInMaintenance() {\n\t\t\treturn angular.copy(appConstant.maintenance.active);\n\t\t}\n\t}\n})(window.angular);\n'use strict';\n\n/* eslint no-unused-vars:\"off\" */\nvar Methods = {\n\tsafeApply: safeApply\n};\n\n// Force a digest in angular app safely\nfunction safeApply(scope, fn) {\n\tvar phase = scope.$root;\n\tif (phase) {\n\t\tphase = phase.$$phase;\n\t\tif ('$apply' === phase || '$digest' === phase) {\n\t\t\tif (fn && 'function' === typeof fn) {\n\t\t\t\tfn();\n\t\t\t}\n\t\t} else {\n\t\t\tscope.$apply(fn);\n\t\t}\n\t}\n}\n(function (angular) {\n\t'use strict';\n\n\tangular.module('xDaysLater').run(config);\n\n\tconfig.$inject = [];\n\n\tfunction config() {\n\t\tconsole.info('Current version: 0.17.1');\n\t}\n})(window.angular);\n\n/* end:concat-scripts */\n//# sourceMappingURL=scripts.js.map\n//# sourceMappingURL=x-days-later.js.map\n"]}