{"version":3,"sources":["../../.tmp/release/scripts.js"],"names":["angular","module","window","config","$inject","$compileProvider","appConstant","debugInfoEnabled","logExProvider","enableLogging","logs","enabled","overrideLogPrefix","$injector","injector","$filter","get","separator","format","now","Date","toString","isString","$className","tmhDynamicLocaleProvider","localeLocationPattern","defaultLocale","constant","lang","current","moment","readableFormat","controller","mainController","$scope","logService","dateService","$window","$timeout","copyService","calculatedDateHistoryService","vm","methods","execHideDatePicker","data","today","initialDate","showDatepicker","isHoverDatepicker","history","xDays","defineDate","onDatepickerClick","toggleDatepicker","onDatepickerEnter","onDatepickerFocus","onWindowClick","hideDatepicker","isDatepickerOpen","onCopySuccess","onInitialDateChange","onDaysInputChange","init","calculatedDate","$watch","addEventListener","subscribe","$data","newHistory","fnCalled","addDays","$event","stopPropagation","$force","show","Methods","safeApply","directive","onEnter","keyboardService","enter","link","restrict","scope","element","attrs","bindKeyDown","run","tmhDynamicLocale","set","locale","$animate","loaderContainer","document","find","leave","addClass","factory","$rootScope","service","newException","notify","reset","setOriginal","setCalculated","setFinal","addWeekend","addFerie","$callback","handler","$on","exception","exceptionTriggered","exceptionList","$date","original","date","calculated","final","type","push","$emit","fnCalledService","container","setClass","then","removeClass","sunday","saturday","one","two","ms","add","isSunday","isSaturday","isDay","isWeekend","setNextDayAfterWeekend","weekendAndExceptionsStuff","readable","toTimestamp","toISOString","$days","$quantity","$type","$day","day","weekend","dateBefore","dateAfter","isFerie","ferie","getFerie","unix","analyzeKey","$element","$attrs","$key","$name","bind","isArray","forEach","key","keyCode","preventDefault","$apply","$eval","$log","log","$target","$text","info","$functionName","$service","fn","phase","$root","$$phase","console"],"mappings":"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","file":"x-days-later.js","sourcesContent":["/* start:concat-scripts */\r\n(function (angular) {\r\n\t'use strict';\r\n\r\n\tangular\r\n\t\t.module('xDaysLater', [\r\n\t\t\t'tmh.dynamicLocale',\r\n\t\t\t'720kb.datepicker',\r\n\t\t\t'ngclipboard',\r\n\t\t\t'ngAnimate',\r\n\t\t\t'log.ex.uo'\r\n\t\t]);\r\n\r\n})(window.angular);\r\n\r\n(function (angular) {\r\n\t'use strict';\r\n\r\n\tangular\r\n\t\t.module('xDaysLater')\r\n\t\t.config(config);\r\n\r\n\tconfig.$inject = [\r\n\t\t'$compileProvider',\r\n\t\t'appConstant'\r\n\t];\r\n\r\n\tfunction config($compileProvider, appConstant) {\r\n\t\t$compileProvider.debugInfoEnabled(appConstant.debugInfoEnabled);\r\n\t}\r\n\r\n}(window.angular));\r\n(function (angular) {\r\n\t'use strict';\r\n\r\n\tangular\r\n\t\t.module('xDaysLater')\r\n\t\t.config(config);\r\n\r\n\tconfig.$inject = [\r\n\t\t'logExProvider',\r\n\t\t'appConstant'\r\n\t];\r\n\r\n\tfunction config(logExProvider, appConstant) {\r\n\t\tlogExProvider.enableLogging(appConstant.logs.enabled);\r\n\t\tlogExProvider.overrideLogPrefix($className => {\r\n\t\t\tconst $injector = angular.injector([\r\n\t\t\t\t'ng'\r\n\t\t\t]);\r\n\t\t\tconst $filter   = $injector.get('$filter');\r\n\t\t\tconst separator = ' >>';\r\n\t\t\tconst format    = 'hh:mm:ss';\r\n\t\t\tconst now       = $filter('date')(new Date(), format);\r\n\t\t\treturn now.toString() + (!angular.isString($className) ? '' : '::' + $className) + separator;\r\n\t\t});\r\n\t}\r\n\r\n}(window.angular));\r\n(function (angular) {\r\n\t'use strict';\r\n\r\n\tangular\r\n\t\t.module('xDaysLater')\r\n\t\t.config(config);\r\n\r\n\tconfig.$inject = [\r\n\t\t'tmhDynamicLocaleProvider'\r\n\t];\r\n\r\n\tfunction config(tmhDynamicLocaleProvider) {\r\n\t\ttmhDynamicLocaleProvider\r\n\t\t\t.localeLocationPattern('/x-days-later/bower_components/angular-i18n/angular-locale_{{locale}}.js')\r\n\t\t\t.defaultLocale('fr');\r\n\t}\r\n\r\n}(window.angular));\r\n\r\n(function (angular) {\r\n\t'use strict';\r\n\r\n\tangular\r\n\t\t.module('xDaysLater')\r\n\t\t.constant('appConstant', {\r\n\t\t\tlogs            : {\r\n\t\t\t\tenabled: false\r\n\t\t\t},\r\n\t\t\tlang            : {\r\n\t\t\t\tcurrent: 'fr'\r\n\t\t\t},\r\n\t\t\tdebugInfoEnabled: false,\r\n\t\t\tmoment          : {\r\n\t\t\t\treadableFormat: 'dddd DD MMMM YYYY'\r\n\t\t\t}\r\n\t\t});\r\n\r\n}(window.angular));\r\n(function (angular) {\r\n\t'use strict';\r\n\r\n\tangular\r\n\t\t.module('xDaysLater')\r\n\t\t.constant('moment', moment);\r\n\r\n}(window.angular));\r\n\r\n(function (angular) {\r\n\t'use strict';\r\n\r\n\tangular\r\n\t\t.module('xDaysLater')\r\n\t\t.controller('mainController', mainController);\r\n\r\n\tmainController.$inject = [\r\n\t\t'$scope',\r\n\t\t'logService',\r\n\t\t'dateService',\r\n\t\t'$window',\r\n\t\t'$timeout',\r\n\t\t'copyService',\r\n\t\t'calculatedDateHistoryService'\r\n\t];\r\n\r\n\tfunction mainController($scope, logService, dateService, $window, $timeout, copyService, calculatedDateHistoryService) {\r\n\t\tconst vm = this;\r\n\r\n\t\t// Internal methods\r\n\t\tconst methods = {\r\n\t\t\texecHideDatePicker\r\n\t\t};\r\n\r\n\t\t// Public data\r\n\t\tvm.data = {\r\n\t\t\tcontroller       : 'mainController',\r\n\t\t\ttoday            : dateService.toString(),\r\n\t\t\tinitialDate      : null,\r\n\t\t\tshowDatepicker   : false,\r\n\t\t\tisHoverDatepicker: false,\r\n\t\t\thistory          : null,\r\n\t\t\txDays            : 21\r\n\t\t};\r\n\r\n\t\t// Public methods\r\n\t\tvm.methods = {\r\n\t\t\tdefineDate,\r\n\t\t\tonDatepickerClick,\r\n\t\t\ttoggleDatepicker,\r\n\t\t\tonDatepickerEnter,\r\n\t\t\tonDatepickerFocus,\r\n\t\t\tonWindowClick,\r\n\t\t\thideDatepicker,\r\n\t\t\tisDatepickerOpen,\r\n\t\t\tisHoverDatepicker,\r\n\t\t\tonCopySuccess,\r\n\t\t\tonInitialDateChange,\r\n\t\t\tonDaysInputChange\r\n\t\t};\r\n\r\n\t\t// Init\r\n\t\tlogService.init(vm.data.controller);\r\n\t\tvm.calculatedDate = null;\r\n\r\n\t\t// Watch initialDate changes\r\n\t\t$scope.$watch('initialDate', () => {\r\n\t\t\t$timeout(() => {\r\n\t\t\t\tvm.methods.defineDate();\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\t// Listen window click\r\n\t\t$window.addEventListener('click', vm.methods.onWindowClick);\r\n\r\n\t\t// Subscribe to calculated date history\r\n\t\tcalculatedDateHistoryService.subscribe($scope, $data => {\r\n\t\t\tvm.data.history = $data.newHistory;\r\n\t\t});\r\n\r\n\t\tfunction defineDate() {\r\n\t\t\tlogService.fnCalled('defineDate');\r\n\t\t\tvm.calculatedDate = dateService.addDays(vm.data.xDays, vm.initialDate);\r\n\t\t}\r\n\r\n\t\tfunction onDatepickerClick($event) {\r\n\t\t\tlogService.fnCalled('onDatepickerClick');\r\n\t\t\t$event.stopPropagation();\r\n\t\t\tvm.methods.toggleDatepicker();\r\n\t\t}\r\n\r\n\t\tfunction toggleDatepicker() {\r\n\t\t\tlogService.fnCalled('toggleDatepicker');\r\n\t\t\tvm.data.showDatepicker = !vm.data.showDatepicker;\r\n\t\t\tvm.methods.defineDate();\r\n\t\t}\r\n\r\n\t\tfunction onDatepickerEnter() {\r\n\t\t\tlogService.fnCalled('onDatepickerEnter');\r\n\t\t\tvm.methods.toggleDatepicker();\r\n\t\t}\r\n\r\n\t\tfunction onDatepickerFocus($event) {\r\n\t\t\tlogService.fnCalled('onDatepickerFocus');\r\n\t\t\t$event.stopPropagation();\r\n\t\t\tvm.methods.toggleDatepicker();\r\n\t\t}\r\n\r\n\t\tfunction onWindowClick() {\r\n\t\t\tlogService.fnCalled('onWindowClick');\r\n\t\t\tvm.methods.hideDatepicker();\r\n\t\t}\r\n\r\n\t\tfunction hideDatepicker($force) {\r\n\t\t\tlogService.fnCalled('hideDatepicker');\r\n\t\t\tif (true === $force) {\r\n\t\t\t\tmethods.execHideDatePicker();\r\n\t\t\t}\r\n\t\t\telse if (vm.methods.isDatepickerOpen() && !vm.methods.isHoverDatepicker()) {\r\n\t\t\t\tmethods.execHideDatePicker();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction isDatepickerOpen() {\r\n\t\t\treturn vm.data.showDatepicker;\r\n\t\t}\r\n\r\n\t\tfunction isHoverDatepicker() {\r\n\t\t\treturn vm.data.isHoverDatepicker;\r\n\t\t}\r\n\r\n\t\tfunction onCopySuccess() {\r\n\t\t\tlogService.fnCalled('onCopySuccess');\r\n\t\t\tcopyService.show();\r\n\t\t}\r\n\r\n\t\tfunction onInitialDateChange() {\r\n\t\t\tlogService.fnCalled('onInitialDateChange');\r\n\t\t\t$timeout(() => {\r\n\t\t\t\tvm.methods.hideDatepicker(true);\r\n\t\t\t\tvm.methods.defineDate();\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tfunction execHideDatePicker() {\r\n\t\t\tvm.data.showDatepicker = false;\r\n\t\t\tvm.methods.defineDate();\r\n\t\t\tMethods.safeApply($scope);\r\n\t\t}\r\n\r\n\t\tfunction onDaysInputChange() {\r\n\t\t\t$timeout(vm.methods.defineDate);\r\n\t\t}\r\n\t}\r\n\r\n})(window.angular);\r\n\r\n(function (angular) {\r\n\t'use strict';\r\n\r\n\tangular\r\n\t\t.module('xDaysLater')\r\n\t\t.directive('onEnter', onEnter);\r\n\r\n\tonEnter.$inject = [\r\n\t\t'keyboardService'\r\n\t];\r\n\r\n\tfunction onEnter(keyboardService) {\r\n\t\tconst data = {\r\n\t\t\tenter: 13\r\n\t\t};\r\n\r\n\t\treturn {\r\n\t\t\tlink,\r\n\t\t\trestrict: 'A'\r\n\t\t};\r\n\r\n\t\tfunction link(scope, element, attrs) {\r\n\t\t\tkeyboardService.bindKeyDown(scope, element, attrs, data.enter, 'onEnter');\r\n\t\t}\r\n\t}\r\n\r\n})(window.angular);\r\n\r\n(function (angular) {\r\n\t'use strict';\r\n\r\n\tangular\r\n\t\t.module('xDaysLater')\r\n\t\t.run(config);\r\n\r\n\tconfig.$inject = [\r\n\t\t'tmhDynamicLocale',\r\n\t\t'moment',\r\n\t\t'appConstant'\r\n\t];\r\n\r\n\tfunction config(tmhDynamicLocale, moment, appConstant) {\r\n\t\ttmhDynamicLocale.set(appConstant.lang.current);\r\n\t\tmoment.locale(appConstant.lang.current);\r\n\t}\r\n\r\n}(window.angular));\r\n(function (angular) {\r\n\t'use strict';\r\n\r\n\tangular\r\n\t\t.module('xDaysLater')\r\n\t\t.run(config);\r\n\r\n\tconfig.$inject = [\r\n\t\t'$animate',\r\n\t\t'$timeout'\r\n\t];\r\n\r\n\tfunction config($animate, $timeout) {\r\n\t\t$timeout(() => {\r\n\t\t\tconst loaderContainer = angular.element(document).find('loader-container');\r\n\t\t\t$animate.leave(loaderContainer, {\r\n\t\t\t\taddClass: 'hiding'\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n}(window.angular));\r\n\r\n(function (angular) {\r\n\t'use strict';\r\n\r\n\tangular\r\n\t\t.module('xDaysLater')\r\n\t\t.factory('calculatedDateHistoryService', calculatedDateHistoryService);\r\n\r\n\tcalculatedDateHistoryService.$inject = [\r\n\t\t'$rootScope',\r\n\t\t'logService'\r\n\t];\r\n\r\n\tfunction calculatedDateHistoryService($rootScope, logService) {\r\n\t\tconst data = {\r\n\t\t\tservice: 'calculatedDateHistoryService',\r\n\t\t\thistory: null\r\n\t\t};\r\n\r\n\t\tconst methods = {\r\n\t\t\tnewException,\r\n\t\t\tnotify\r\n\t\t};\r\n\r\n\t\treturn {\r\n\t\t\tsubscribe,\r\n\t\t\treset,\r\n\t\t\tsetOriginal,\r\n\t\t\tsetCalculated,\r\n\t\t\tsetFinal,\r\n\t\t\taddWeekend,\r\n\t\t\taddFerie\r\n\t\t};\r\n\r\n\t\tfunction subscribe($scope, $callback) {\r\n\t\t\tconst handler = $rootScope.$on(data.service + ':newHistory', () => {\r\n\t\t\t\t$callback({\r\n\t\t\t\t\tnewHistory: data.history\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\t$scope.$on('$destroy', handler);\r\n\t\t}\r\n\r\n\t\tfunction reset() {\r\n\t\t\tlogService.service(data.service, 'reset');\r\n\t\t\tdata.history = {\r\n\t\t\t\texception         : false,\r\n\t\t\t\texceptionTriggered: 0,\r\n\t\t\t\texceptionList     : []\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tfunction setOriginal($date) {\r\n\t\t\tlogService.service(data.service, 'setOriginal');\r\n\t\t\tdata.history.original = {\r\n\t\t\t\tdate: $date\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tfunction setCalculated($date) {\r\n\t\t\tlogService.service(data.service, 'setCalculated');\r\n\t\t\tdata.history.calculated = {\r\n\t\t\t\tdate: $date\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tfunction setFinal($date) {\r\n\t\t\tlogService.service(data.service, 'setFinal');\r\n\t\t\tdata.history.final = {\r\n\t\t\t\tdate: $date\r\n\t\t\t};\r\n\t\t\tmethods.notify();\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Add a weekend exception\r\n\t\t * @param {object} $data > Object with data (dateBefore, dateAfter, type (sunday, saturday))\r\n\t\t */\r\n\t\tfunction addWeekend($data) {\r\n\t\t\tlogService.service(data.service, 'addWeekend');\r\n\t\t\tmethods.newException($data);\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Add a ferie exception\r\n\t\t * @param {object} $data > Object with data (dateBefore, dateAfter, ferie)\r\n\t\t */\r\n\t\tfunction addFerie($data) {\r\n\t\t\tlogService.service(data.service, 'addFerie');\r\n\t\t\t$data.type = 'ferie';\r\n\t\t\tmethods.newException($data);\r\n\t\t}\r\n\r\n\t\tfunction newException($data) {\r\n\t\t\tdata.history.exception = true;\r\n\t\t\tdata.history.exceptionTriggered++;\r\n\t\t\tdata.history.exceptionList.push($data);\r\n\t\t}\r\n\r\n\t\tfunction notify() {\r\n\t\t\t$rootScope.$emit(data.service + ':newHistory');\r\n\t\t}\r\n\t}\r\n\r\n})(window.angular);\r\n(function (angular) {\r\n\t'use strict';\r\n\r\n\tangular\r\n\t\t.module('xDaysLater')\r\n\t\t.factory('copyService', copyService);\r\n\r\n\tcopyService.$inject = [\r\n\t\t'$animate',\r\n\t\t'logService'\r\n\t];\r\n\r\n\tfunction copyService($animate, logService) {\r\n\t\tconst data = {\r\n\t\t\tservice: 'copyService'\r\n\t\t};\r\n\r\n\t\treturn {\r\n\t\t\tshow\r\n\t\t};\r\n\r\n\t\tfunction show() {\r\n\t\t\tlogService.fnCalledService(data.service, 'show');\r\n\t\t\tconst container = angular.element(document).find('copy-container');\r\n\t\t\t$animate.setClass(container, 'showing', 'hiding').then(() => {\r\n\t\t\t\t$animate.setClass(container, 'hiding', 'showing').then(() => {\r\n\t\t\t\t\t$animate.removeClass(container, 'hiding');\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n})(window.angular);\r\n(function (angular) {\r\n\t'use strict';\r\n\r\n\tangular\r\n\t\t.module('xDaysLater')\r\n\t\t.factory('dateService', dateService);\r\n\r\n\tdateService.$inject = [\r\n\t\t'moment',\r\n\t\t'logService',\r\n\t\t'appConstant',\r\n\t\t'calculatedDateHistoryService'\r\n\t];\r\n\r\n\tfunction dateService(moment, logService, appConstant, calculatedDateHistoryService) {\r\n\t\tconst data = {\r\n\t\t\tservice : 'dateService',\r\n\t\t\tsunday  : 0,\r\n\t\t\tsaturday: 6,\r\n\t\t\tone     : 1,\r\n\t\t\ttwo     : 2,\r\n\t\t\tms      : 1000\r\n\t\t};\r\n\r\n\t\tconst methods = {\r\n\t\t\tadd,\r\n\t\t\tisSunday,\r\n\t\t\tisSaturday,\r\n\t\t\tisDay,\r\n\t\t\tisWeekend,\r\n\t\t\tsetNextDayAfterWeekend,\r\n\t\t\tweekendAndExceptionsStuff,\r\n\t\t\treadable,\r\n\t\t\ttoTimestamp\r\n\t\t};\r\n\r\n\t\treturn {\r\n\t\t\taddDays,\r\n\t\t\ttoISOString,\r\n\t\t\ttoString\r\n\t\t};\r\n\r\n\t\tfunction addDays($days, $date) {\r\n\t\t\tlogService.fnCalledService(data.service, 'addDays');\r\n\t\t\tif ($date) {\r\n\t\t\t\tlogService.service(data.service, 'original date is: ' + $date);\r\n\t\t\t\tcalculatedDateHistoryService.reset();\r\n\r\n\t\t\t\t// Convert the date\r\n\t\t\t\tlet date = moment($date, appConstant.moment.readableFormat, appConstant.lang.current);\r\n\t\t\t\tlogService.service(data.service, 'moment original date is: ' + methods.readable(date));\r\n\t\t\t\tcalculatedDateHistoryService.setOriginal(methods.toTimestamp(date));\r\n\r\n\t\t\t\t// Add 21 days\r\n\t\t\t\tdate = methods.add(date, $days, 'days');\r\n\t\t\t\tlogService.service(data.service, 'new +' + $days + ' days date is: ' + methods.readable(date));\r\n\t\t\t\tcalculatedDateHistoryService.setCalculated(methods.toTimestamp(date));\r\n\r\n\t\t\t\treturn methods.weekendAndExceptionsStuff(date);\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tfunction add($date, $quantity, $type) {\r\n\t\t\treturn moment($date).add($quantity, $type);\r\n\t\t}\r\n\r\n\t\tfunction isSunday($date) {\r\n\t\t\treturn methods.isDay($date, data.sunday);\r\n\t\t}\r\n\r\n\t\tfunction isSaturday($date) {\r\n\t\t\treturn methods.isDay($date, data.saturday);\r\n\t\t}\r\n\r\n\t\tfunction isDay($date, $day) {\r\n\t\t\tconst day = moment($date).day();\r\n\t\t\treturn day === $day;\r\n\t\t}\r\n\r\n\t\tfunction isWeekend($date) {\r\n\t\t\treturn methods.isSunday($date) || methods.isSaturday($date);\r\n\t\t}\r\n\r\n\t\tfunction setNextDayAfterWeekend($date) {\r\n\t\t\tif (methods.isSunday($date)) {\r\n\t\t\t\treturn methods.add($date, data.one, 'days');\r\n\t\t\t}\r\n\t\t\treturn methods.add($date, data.two, 'days');\r\n\t\t}\r\n\r\n\t\tfunction weekendAndExceptionsStuff($date) {\r\n\t\t\tlet date = $date;\r\n\r\n\t\t\t// Check if this is the weekend\r\n\t\t\tif (methods.isWeekend(date)) {\r\n\t\t\t\tlogService.service(data.service, 'isWeekend');\r\n\t\t\t\tconst weekend = {\r\n\t\t\t\t\tdateBefore: methods.toTimestamp(date),\r\n\t\t\t\t\tdateAfter : null,\r\n\t\t\t\t\ttype      : methods.isSunday(date) ? 'sunday' : 'saturday'\r\n\t\t\t\t};\r\n\r\n\t\t\t\t// Set the next monday\r\n\t\t\t\tdate = methods.setNextDayAfterWeekend(date);\r\n\t\t\t\tlogService.service(data.service, 'new date after weekend: ' + methods.readable(date));\r\n\t\t\t\tweekend.dateAfter = methods.toTimestamp(date);\r\n\t\t\t\tcalculatedDateHistoryService.addWeekend(weekend);\r\n\t\t\t}\r\n\r\n\t\t\t// Check if this is an fr exception\r\n\t\t\tif (date.isFerie()) {\r\n\t\t\t\tlogService.service(data.service, 'isFerie');\r\n\t\t\t\tconst ferie = {\r\n\t\t\t\t\tdateBefore: methods.toTimestamp(date),\r\n\t\t\t\t\tdateAfter : null,\r\n\t\t\t\t\tferie     : date.getFerie()\r\n\t\t\t\t};\r\n\r\n\t\t\t\t// Add one day\r\n\t\t\t\tdate = methods.add(date, data.one, 'days');\r\n\t\t\t\tlogService.service(data.service, 'new date after exception day: ' + methods.readable(date));\r\n\t\t\t\tferie.dateAfter = methods.toTimestamp(date);\r\n\t\t\t\tcalculatedDateHistoryService.addFerie(ferie);\r\n\r\n\t\t\t\t// Loop again\r\n\t\t\t\tdate = weekendAndExceptionsStuff(date);\r\n\t\t\t}\r\n\t\t\tlogService.service(data.service, 'final new date: ' + methods.readable(date));\r\n\t\t\tcalculatedDateHistoryService.setFinal(methods.toTimestamp(date));\r\n\t\t\treturn methods.toTimestamp(date);\r\n\t\t}\r\n\r\n\t\tfunction readable($date) {\r\n\t\t\treturn moment($date).format(appConstant.moment.readableFormat);\r\n\t\t}\r\n\r\n\t\tfunction toISOString($date) {\r\n\t\t\tif ($date) {\r\n\t\t\t\treturn moment($date).toISOString();\r\n\t\t\t}\r\n\t\t\treturn moment().toISOString();\r\n\t\t}\r\n\r\n\t\tfunction toString($date) {\r\n\t\t\tif ($date) {\r\n\t\t\t\treturn moment($date).toString();\r\n\t\t\t}\r\n\t\t\treturn moment().toString();\r\n\t\t}\r\n\r\n\t\tfunction toTimestamp($date) {\r\n\t\t\treturn moment($date).unix() * data.ms;\r\n\t\t}\r\n\t}\r\n\r\n})(window.angular);\r\n(function (angular) {\r\n\t'use strict';\r\n\r\n\tangular\r\n\t\t.module('xDaysLater')\r\n\t\t.factory('keyboardService', keyboardService);\r\n\r\n\tfunction keyboardService() {\r\n\t\tconst methods = {\r\n\t\t\tanalyzeKey\r\n\t\t};\r\n\r\n\t\treturn {\r\n\t\t\tbindKeyDown\r\n\t\t};\r\n\r\n\t\tfunction bindKeyDown($scope, $element, $attrs, $key, $name) {\r\n\t\t\t$element.bind('keydown keypress', $event => {\r\n\t\t\t\tif (angular.isArray($key)) {\r\n\t\t\t\t\tangular.forEach($key, key => {\r\n\t\t\t\t\t\tmethods.analyzeKey($scope, $attrs, $name, $event, key);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tmethods.analyzeKey($scope, $attrs, $name, $event, $key);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tfunction analyzeKey($scope, $attrs, $name, $event, $key) {\r\n\t\t\tif ($event.keyCode === $key) {\r\n\t\t\t\t$event.preventDefault();\r\n\t\t\t\t$event.stopPropagation();\r\n\t\t\t\t$scope.$apply(() => {\r\n\t\t\t\t\t$scope.$eval($attrs[$name]);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n})(window.angular);\r\n(function (angular) {\r\n\t'use strict';\r\n\r\n\tangular\r\n\t\t.module('xDaysLater')\r\n\t\t.factory('logService', logService);\r\n\r\n\tlogService.$inject = [\r\n\t\t'$log'\r\n\t];\r\n\r\n\tfunction logService($log) {\r\n\t\treturn {\r\n\t\t\tinit,\r\n\t\t\tlog,\r\n\t\t\tfnCalled,\r\n\t\t\tservice,\r\n\t\t\tfnCalledService\r\n\t\t};\r\n\r\n\t\tfunction init($target) {\r\n\t\t\t$log.log('Init >>>', $target);\r\n\t\t}\r\n\r\n\t\tfunction log($text) {\r\n\t\t\t$log.info($text);\r\n\t\t}\r\n\r\n\t\tfunction fnCalled($functionName) {\r\n\t\t\t$log.log($functionName, 'called');\r\n\t\t}\r\n\r\n\t\tfunction service($service, $text) {\r\n\t\t\t$log.info($service, '>>>', $text);\r\n\t\t}\r\n\r\n\t\tfunction fnCalledService($service, $functionName) {\r\n\t\t\t$log.log($service, '>>>', $functionName, 'called');\r\n\t\t}\r\n\t}\r\n\r\n})(window.angular);\r\n'use strict';\r\n\r\n/* eslint no-unused-vars:\"off\" */\r\nconst Methods = {\r\n\tsafeApply\r\n};\r\n\r\n// Force a digest in angular app safely\r\nfunction safeApply(scope, fn) {\r\n\tlet phase = scope.$root;\r\n\tif (phase) {\r\n\t\tphase = phase.$$phase;\r\n\t\tif ('$apply' === phase || '$digest' === phase) {\r\n\t\t\tif (fn && 'function' === typeof fn) {\r\n\t\t\t\tfn();\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tscope.$apply(fn);\r\n\t\t}\r\n\t}\r\n}\r\n(function (angular) {\r\n\t'use strict';\r\n\r\n\tangular\r\n\t\t.module('xDaysLater')\r\n\t\t.run(config);\r\n\r\n\tconfig.$inject = [];\r\n\r\n\tfunction config() {\r\n\t\tconsole.info('x-days-later version: 0.10.6');\r\n\t}\r\n\r\n}(window.angular));\r\n\r\n/* end:concat-scripts */\n//# sourceMappingURL=scripts.js.map"]}