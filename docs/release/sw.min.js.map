{"version":3,"sources":["sw.js"],"names":["cacheName","filesToCache","success","self","addEventListener","$event","waitUntil","caches","open","then","console","log","cache","addAll","respondWith","onRespondWithMatch","match","request","$response","fetchRequest","clone","fetch","onFetchSuccess","$response2","status","type","responseToCache","put"],"mappings":"aASA,CAAC,UAAY,CACZ,aAEA,GAAMA,WAAe,uBAArB,CACA,GAAMC,cAAe,CACpB,gBADoB,CAEpB,0BAFoB,CAGpB,qCAHoB,CAIpB,sCAJoB,CAKpB,qCALoB,CAMpB,kCANoB,CAOpB,2CAPoB,CAQpB,sCARoB,CAArB,CAUA,GAAMC,SAAe,GAArB,CAEAC,KAAKC,gBAAL,CAAsB,SAAtB,CAAiC,gBAAU,CAC1CC,OAAOC,SAAP,CAAiB,UAAM,CACtBC,OACEC,IADF,CACOR,SADP,EAEES,IAFF,CAEO,eAAS,CACdC,QAAQC,GAAR,CAAY,kBAAZ,EACA,MAAOC,OAAMC,MAAN,CAAaZ,YAAb,CACP,CALF,CAMA,CAPD,CAQA,CATD,EAWAE,KAAKC,gBAAL,CAAsB,OAAtB,CAA+B,gBAAU,CACxCC,OAAOS,WAAP,CAAmB,UAAM,CACxB,MAAOC,oBAAmBV,MAAnB,CACP,CAFD,CAGA,CAJD,EAMA,QAASU,mBAAT,CAA4BV,MAA5B,CAAoC,CACnCE,OACES,KADF,CACQX,OAAOY,OADf,EAEER,IAFF,CAEO,mBAAa,CAClB,GAAIS,SAAJ,CAAe,CACd,MAAOA,UACP,CACD,GAAMC,cAAed,OAAOY,OAAP,CAAeG,KAAf,EAArB,CACA,MAAOC,OAAMF,YAAN,EAAoBV,IAApB,CAAyB,oBAAc,CAC7C,MAAOa,gBAAejB,MAAf,CAAuBkB,UAAvB,CACP,CAFM,CAGP,CAVF,CAWA,CAED,QAASD,eAAT,CAAwBjB,MAAxB,CAAgCa,SAAhC,CAA2C,CAC1C,GAAI,CAACA,SAAD,EAAcA,UAAUM,MAAV,GAAqBtB,OAAnC,EAA8C,UAAYgB,UAAUO,IAAxE,CAA8E,CAC7E,MAAOP,UACP,CACD,GAAMQ,iBAAkBR,UAAUE,KAAV,EAAxB,CACAb,OACEC,IADF,CACOR,SADP,EAEES,IAFF,CAEO,eAAS,CACdG,MAAMe,GAAN,CAAUtB,OAAOY,OAAjB,CAA0BS,eAA1B,CACA,CAJF,EAKA,MAAOR,UACP,CACD,CA3DD","file":"sw.min.js","sourcesContent":["/**\r\n * Generated header by C0ZEN for x-days-later project\r\n * Generated file sw on WebStorm\r\n *\r\n * Created by: Geoffrey \"C0ZEN\" Testelin\r\n * Date: 23/01/2018\r\n * Time: 23:28\r\n * Version: 1.0.0\r\n */\r\n(function () {\r\n\t'use strict';\r\n\r\n\tconst cacheName    = 'x-days-later-cache-v1';\r\n\tconst filesToCache = [\r\n\t\t'/x-days-later/',\r\n\t\t'/x-days-later/index.html',\r\n\t\t'/x-days-later/assets/css/loader.css',\r\n\t\t'/x-days-later/assets/css/vendors.css',\r\n\t\t'/x-days-later/assets/css/styles.css',\r\n\t\t'/x-days-later/release/vendors.js',\r\n\t\t'/x-days-later/release/x-days-later.min.js',\r\n\t\t'/x-days-later/release/sw.init.min.js'\r\n\t];\r\n\tconst success      = 200;\r\n\r\n\tself.addEventListener('install', $event => {\r\n\t\t$event.waitUntil(() => {\r\n\t\t\tcaches\r\n\t\t\t\t.open(cacheName)\r\n\t\t\t\t.then(cache => {\r\n\t\t\t\t\tconsole.log('SW: cache opened');\r\n\t\t\t\t\treturn cache.addAll(filesToCache);\r\n\t\t\t\t});\r\n\t\t});\r\n\t});\r\n\r\n\tself.addEventListener('fetch', $event => {\r\n\t\t$event.respondWith(() => {\r\n\t\t\treturn onRespondWithMatch($event);\r\n\t\t});\r\n\t});\r\n\r\n\tfunction onRespondWithMatch($event) {\r\n\t\tcaches\r\n\t\t\t.match($event.request)\r\n\t\t\t.then($response => {\r\n\t\t\t\tif ($response) {\r\n\t\t\t\t\treturn $response;\r\n\t\t\t\t}\r\n\t\t\t\tconst fetchRequest = $event.request.clone();\r\n\t\t\t\treturn fetch(fetchRequest).then($response2 => {\r\n\t\t\t\t\treturn onFetchSuccess($event, $response2);\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t}\r\n\r\n\tfunction onFetchSuccess($event, $response) {\r\n\t\tif (!$response || $response.status !== success || 'basic' !== $response.type) {\r\n\t\t\treturn $response;\r\n\t\t}\r\n\t\tconst responseToCache = $response.clone();\r\n\t\tcaches\r\n\t\t\t.open(cacheName)\r\n\t\t\t.then(cache => {\r\n\t\t\t\tcache.put($event.request, responseToCache);\r\n\t\t\t});\r\n\t\treturn $response;\r\n\t}\r\n})();"]}